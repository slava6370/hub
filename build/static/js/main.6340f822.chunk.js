(this["webpackJsonpkanban-vk"]=this["webpackJsonpkanban-vk"]||[]).push([[0],{44:function(t,e,a){t.exports=a(93)},49:function(t,e,a){},88:function(t,e,a){},89:function(t,e,a){},90:function(t,e,a){},91:function(t,e,a){},92:function(t,e,a){},93:function(t,e,a){"use strict";a.r(e);var n=a(9),s=a(1),c=a(2),o=a(3),i=a(5),r=a(4),l=a(7),u=a(6),d=a(0),m=a.n(d),p=a(19),h=a.n(p),b=a(13),k=(a(49),function(t){function e(){return Object(c.a)(this,e),Object(i.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return m.a.createElement(b.b,{draggableId:this.props.task.id,index:this.props.index},(function(e){return m.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:"".concat(t.props.className," task")}),t.props.task.content)}))}}]),e}(d.Component)),f=(a(88),function(t){function e(){return Object(c.a)(this,e),Object(i.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return m.a.createElement("button",{className:"".concat(this.props.className," button"),onClick:function(){t.props.action(document.querySelector(".Form-".concat(t.props.id," .Form__textarea")).value,t.props.id),"newColumn"===t.props.id&&t.props.cancelClick()}},this.props.text)}}]),e}(d.Component)),O=(a(89),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(i.a)(this,Object(r.a)(e).call(this,t))).handleInput=a.handleInput.bind(Object(l.a)(a)),a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"handleInput",value:function(){var t=document.querySelector(".Form-".concat(this.props.id," .Form__textarea"));setTimeout((function(){t.style.cssText="height: auto;",t.style.cssText="height:".concat(t.scrollHeight,"px")}),1)}},{key:"render",value:function(){var t=this;return m.a.createElement("div",{className:"Form Form-".concat(this.props.id)},m.a.createElement("textarea",{className:"Form__textarea",rows:this.props.formSettings.rows,placeholder:this.props.formSettings.placeholder,onKeyDown:this.handleInput}),m.a.createElement(f,{className:"Form__button",text:this.props.formSettings.text,action:this.props.formSettings.action,cancelClick:this.props.formSettings.newColumn?this.props.cancelClick:null,id:this.props.id}),m.a.createElement("div",{className:"Form__cancel",onClick:function(){t.props.cancelClick()}},m.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 6.71875L14.2188 0L15 0.78125L8.28125 7.5L15 14.2188L14.2188 15L7.5 8.28125L0.78125 15L0 14.2188L6.71875 7.5L0 0.78125L0.78125 0L7.5 6.71875Z",fill:"#6B808C"}))))}}]),e}(d.Component)),v=(a(90),function(t){function e(){return Object(c.a)(this,e),Object(i.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return m.a.createElement("div",{className:"".concat(this.props.className," columnButton"),onClick:function(){t.props.handleClick()}},m.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"relative",top:"3px",marginRight:"8px"}},m.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.1412 6.64122H8.35878V0.858779C8.35878 0.400763 7.95802 0 7.5 0C7.04198 0 6.64122 0.400763 6.64122 0.858779V6.64122H0.858779C0.400763 6.64122 0 7.04198 0 7.5C0 7.95801 0.400763 8.35878 0.858779 8.35878H6.64122V14.1412C6.64122 14.5992 7.04198 15 7.5 15C7.95802 15 8.35878 14.5992 8.35878 14.1412V8.35878H14.1412C14.5992 8.35878 15 7.95801 15 7.5C15 7.04198 14.5992 6.64122 14.1412 6.64122Z",fill:"#6B808C"})),this.props.text)}}]),e}(d.Component)),j=(a(91),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(i.a)(this,Object(r.a)(e).call(this,t))).state={buttonClicked:!1,column:t.column},a.handleClick=a.handleClick.bind(Object(l.a)(a)),a.cancelClick=a.cancelClick.bind(Object(l.a)(a)),a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"handleClick",value:function(){this.setState({buttonClicked:!0})}},{key:"cancelClick",value:function(){this.setState({buttonClicked:!1})}},{key:"render",value:function(){var t=this;return!this.props.formSettings.newColumn&&this.state.buttonClicked&&setTimeout((function(){var e=document.querySelector(".taskList-".concat(t.props.column.id));e.scrollTop=e.scrollHeight}),1),m.a.createElement("div",{className:"column"},this.props.formSettings.newColumn?this.state.buttonClicked?m.a.createElement(O,{cancelClick:this.cancelClick,formSettings:this.props.formSettings,id:"newColumn"}):m.a.createElement(v,{className:"column__columnButton",handleClick:this.handleClick,text:this.props.buttonText}):m.a.createElement(m.a.Fragment,null,m.a.createElement("h3",{className:"column__title"},this.props.column.title),m.a.createElement(b.c,{droppableId:this.props.column.id},(function(e){return m.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:"column__taskList taskList taskList-".concat(t.props.column.id)}),t.props.tasks.map((function(t,e){return m.a.createElement(k,{key:t.id,className:"taskList__task",task:t,index:e})})),e.placeholder)})),this.state.buttonClicked?m.a.createElement(O,{cancelClick:this.cancelClick,formSettings:this.props.formSettings,id:this.props.column.id}):m.a.createElement(v,{className:"column__columnButton",handleClick:this.handleClick,text:this.props.buttonText})))}}]),e}(d.Component)),C={tasks:{"task-1":{id:"task-1",content:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u041d\u0418\u0420"},"task-2":{id:"task-2",content:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u0430\u043d\u0431\u0430\u043d"}},columns:{"column-1":{id:"column-1",title:"TODO",taskIds:["task-1"]},"column-2":{id:"column-2",title:"Done",taskIds:["task-2"]}},columnOrder:["column-1","column-2"]},g=(a(92),function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(i.a)(this,Object(r.a)(e).call(this))).state=C,t.onDragEnd=t.onDragEnd.bind(Object(l.a)(t)),t.addTask=t.addTask.bind(Object(l.a)(t)),t.addColumn=t.addColumn.bind(Object(l.a)(t)),t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"onDragEnd",value:function(t){var e,a=t.destination,c=t.source,o=t.draggableId;if(a&&(a.droppableId!==c.droppableId||a.index!==c.index)){var i=this.state.columns[c.droppableId],r=this.state.columns[a.droppableId];if(i!==r){var l=Array.from(i.taskIds);l.splice(c.index,1);var u=Object(s.a)({},i,{taskIds:l}),d=Array.from(r.taskIds);d.splice(a.index,0,o);var m=Object(s.a)({},r,{taskIds:d}),p=Object(s.a)({},this.state,{columns:Object(s.a)({},this.state.columns,(e={},Object(n.a)(e,u.id,u),Object(n.a)(e,m.id,m),e))});this.setState(p)}else{var h=Array.from(i.taskIds);h.splice(c.index,1),h.splice(a.index,0,o);var b=Object(s.a)({},i,{taskIds:h}),k=Object(s.a)({},this.state,{columns:Object(s.a)({},this.state.columns,Object(n.a)({},b.id,b))});this.setState(k)}}}},{key:"addTask",value:function(t,e){var a=document.querySelector(".Form-".concat(e," .Form__textarea"));if(t=t.trim()){var c="task-".concat((new Date).valueOf()),o=Object(s.a)({},this.state.columns[e],{taskIds:this.state.columns[e].taskIds.concat([c])}),i=Object(s.a)({},this.state,{columns:Object(s.a)({},this.state.columns,Object(n.a)({},e,o)),tasks:Object(s.a)({},this.state.tasks,Object(n.a)({},c,{id:c,content:t}))});this.setState(i)}a.value=""}},{key:"addColumn",value:function(t,e){if(t=t.trim()){var a="column-".concat((new Date).valueOf()),c={id:a,title:t,taskIds:[]},o=Object(s.a)({},this.state,{columns:Object(s.a)({},this.state.columns,Object(n.a)({},a,c)),tasks:Object(s.a)({},this.state.tasks),columnOrder:this.state.columnOrder.concat([a])});this.setState(o)}}},{key:"render",value:function(){var t=this,e=this.state.columnOrder.map((function(e){var a=t.state.columns[e],n=a.taskIds.map((function(e){return t.state.tasks[e]}));return m.a.createElement(j,{key:a.id,column:a,tasks:n,buttonText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",formSettings:{newColumn:!1,action:t.addTask,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",rows:2}})}));return m.a.createElement("div",{className:"app"},m.a.createElement(b.a,{onDragEnd:this.onDragEnd},e,m.a.createElement(j,{buttonText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443",formSettings:{newColumn:!0,action:this.addColumn,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443",rows:1}})))}}]),e}(d.Component));h.a.render(m.a.createElement(g,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.6340f822.chunk.js.map